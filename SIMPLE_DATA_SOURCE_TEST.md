# 简化数据源测试指南

## 🎯 测试目标

专注测试数据源配置和数据显示功能，使用专门的"数据源测试"组件。

## 🚀 快速测试步骤

### 1. 启动开发服务器
开发服务器已在运行：http://localhost:5004/

### 2. 访问Visual Editor
- 菜单 → 测试 → 编辑器集成测试
- 或直接访问：http://localhost:5004/test/editor-integration

### 3. 清空现有组件
- 如果画布上有组件，先全部删除（选中后按Delete键）
- 确保画布是空白状态

### 4. 添加数据源测试组件
- 在左侧组件库中找到"**测试**"分类
- 拖拽"**数据源测试**"组件到画布上
- 这个组件专门用于测试数据源功能

### 5. 配置数据源
1. **选中组件**：点击画布上的"数据源测试"组件
2. **打开数据源配置**：在右侧配置面板点击"数据源配置"标签页
3. **应该看到**：
   - 数据源名称：testData
   - 字段映射：value、name、status、timestamp、data
   - 数据源类型选择器（API、WebSocket、静态数据）

### 6. 测试静态数据
1. **选择数据源类型**：静态数据
2. **输入测试数据**：
```json
{
  "value": 42,
  "name": "测试设备",
  "status": "online",
  "timestamp": "2025-01-21T12:00:00Z",
  "data": {
    "temperature": 25.5,
    "humidity": 60
  }
}
```
3. **保存配置**
4. **观察组件变化**：组件应该显示输入的数据

### 7. 测试API数据源
1. **选择数据源类型**：API
2. **配置API URL**：`https://jsonplaceholder.typicode.com/posts/1`
3. **字段映射**：
   - value → id
   - name → title  
   - status → "active"（固定值）
4. **保存配置**
5. **观察数据更新**：组件应该显示从API获取的数据

## ✅ 验证要点

### 数据源配置表单
- [ ] 表单正常显示（不是只有导入/导出按钮）
- [ ] 字段映射列表正确显示（value、name、status、timestamp、data）
- [ ] 数据源类型可以正常切换
- [ ] 配置可以正常保存

### 数据显示效果
- [ ] 静态数据：输入数据后立即在组件中显示
- [ ] API数据：配置后能获取并显示远程数据
- [ ] 状态指示器：显示"数据正常"或"等待数据"
- [ ] 更新时间：数据变化时显示最新时间

### 实时性测试
- [ ] 修改静态数据配置，组件立即反映变化
- [ ] API数据源配置轮询间隔，数据按时更新

## 🐛 如果出现问题

### 数据源表单不显示
- 检查浏览器控制台是否有错误
- 确认组件是"数据源测试"而不是其他组件

### 数据不更新
- 检查数据源配置是否保存成功
- 查看组件是否显示正确的状态指示器
- 检查控制台是否有网络或数据处理错误

### 字段映射错误
- 确认字段名拼写正确
- 检查数据格式是否匹配组件期望结构

## 📊 测试结果记录

**基础功能**：
- [ ] 数据源配置表单显示正常
- [ ] 静态数据配置和显示
- [ ] API数据源配置和获取
- [ ] 字段映射功能正常
- [ ] 实时数据更新

**高级功能**：
- [ ] 轮询间隔配置
- [ ] 错误处理显示
- [ ] 配置持久化

---

**这个测试组件的优势**：
- 🎯 **专用**：专门为数据源测试设计
- 🔍 **可视化**：直接显示接收到的数据
- 📊 **状态明确**：清楚显示数据状态和更新时间
- 🛠 **简单**：最小化配置，专注数据源功能测试